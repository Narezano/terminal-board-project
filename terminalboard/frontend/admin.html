<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>TerminalBoard — Admin</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="css/styles.css" />
    <script src="js/auth-guard.js"></script>
    <link rel="stylesheet" href="css/admin.css" />
  </head>

  <body>
    <!-- =======================================================
         BACKGROUND EFFECT
         - Matrix canvas rendered by matrix.js
         ======================================================= -->
    <canvas id="matrix"></canvas>

    <!-- =======================================================
         HEADER / NAVIGATION
         ======================================================= -->
    <header class="tb-header">
      <div class="tb-logo">TERMINAL<span>BOARD</span></div>

      <nav class="tb-nav">
        <!-- Primary navigation -->
        <a href="chat.html">Chat</a>

        <!-- boards.html is now About + Patch Notes (kept filename) -->
        <a href="boards.html">Boards</a>

        <!-- Current page -->
        <a class="tb-nav__active" href="admin.html">Admin</a>

        <!-- Logout handled by logout.js -->
        <a href="#" id="navLogout">Logout</a>
      </nav>
    </header>

    <!-- =======================================================
         MAIN CONTENT
         ======================================================= -->
    <main class="tb-main">
      <!-- Admin panel wrapper -->
      <section class="admin-wrap">
        <!-- Top bar: title + status + controls -->
        <div class="admin-top">
          <div>
            <h2 class="section-title">ADMIN PANEL</h2>

            <!-- Populated by admin.js (whoami / role) -->
            <div id="adminWhoami" class="pill">checking…</div>
          </div>

          <!-- Controls used for moderation tools -->
          <div class="admin-controls">
            <input
              id="roomInput"
              class="admin-input"
              placeholder="room (e.g. lobby)"
            />

            <button id="btnRefresh" class="mini-btn">
              Refresh Messages
            </button>

            <button id="btnLoadUsers" class="mini-btn">
              Load Users
            </button>
          </div>
        </div>

        <!-- Split layout: messages (left) + users (right) -->
        <div class="split">
          <!-- LEFT: Messages -->
          <div>
            <!-- Column headers (hidden on mobile via CSS) -->
            <div class="admin-grid header">
              <div>Author</div>
              <div>Message</div>
              <div>Meta</div>
              <div>Action</div>
            </div>

            <!-- Populated by admin.js -->
            <div id="messagesList"></div>
          </div>

          <!-- RIGHT: Users -->
          <div>
            <!-- Use normal title styling (no inline styles) -->
            <div class="section-title section-title--tight">USERS</div>

            <!-- Populated by admin.js -->
            <div id="usersList"></div>
          </div>
        </div>

        <!-- Status / feedback line for admin actions -->
        <div id="adminNote" class="admin-note"></div>
      </section>
    </main>

    <!-- =======================================================
         FOOTER
         ======================================================= -->
    <footer class="tb-footer">
      <span>v0.1 · ADMIN</span>
    </footer>

    <!-- =======================================================
         SCRIPTS
         - logout.js wires #navLogout
         - matrix.js draws the canvas background
         - admin.js powers admin actions + renders lists
         ======================================================= -->
    <script src="js/logout.js"></script>
    <script src="js/matrix.js"></script>
    <script src="js/admin.js"></script>
  </body>
</html>
